<!-- JooDatabase: initial template for new databases -->
<!-- see components/com_joodb/assets/joodb.css for style definitions -->
<!-- Search box -->
<div class="search-box">{joodb searchbox|title,value,category,status}</div>

<!-- Controls and Header -->
<div class="block">
  <div style="float: right">{joodb limitbox}</div>
  <p>{joodb pagecount}</p>
  <p>{joodb exportbutton}</p>
</div>

<!-- Title with Sortlinks -->
<div class="block header">
  <h2 class="text-white">IAF 2024 GENERAL AUDIENCE DATA</h2>
  {joodb orderlink|id|ID} -- {joodb orderlink|status|Status} -- {joodb
  orderlink|nationality|Nationality} -- {joodb orderlink|country|Country} --
  {joodb orderlink|created|Latest}
</div>

<!-- Table Start -->
<div class="table" data-tbl="tbl_reg_general_v1" data-quota="9999">
  {joodb loop}
  <div class="tr {joodb loopclass}">
    <div class="td" style="width: 80px; text-align: center">
      <strong>{joodb field|id}</strong>
    </div>
    <img
      style="max-width: 400px; object-fit: cover; margin-right: 20px"
      src="https://iaf.kemlu.go.id/abc_files/general/photo/{joodb field|photo}"
      alt="test"
    />
    <div class="td">
      <h3 class="title">{joodb field|first_name} {joodb field|last_name}</h3>
      <ul class="details" style="list-style-type: none; padding-left: 0">
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> ID: </span
          ><span>{joodb field|id}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Created: </span
          ><span>{joodb field|created}</span>
        </li>
        <li>
          <span style="font-weight: bold">User ID: </span
          ><span>{joodb field|user_id}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Category: </span
          ><span>{joodb field|category}</span>
        </li>
        <li>
          <span style="font-weight: bold">Other Category: </span
          ><span>{joodb field|other_category}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Prefix: </span
          ><span>{joodb field|prefix}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Last Name: </span
          ><span>{joodb field|last_name}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> First Name: </span
          ><span>{joodb field|first_name}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Sex: </span
          ><span>{joodb field|sex}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Place of Birth: </span
          ><span>{joodb field|place_of_birth}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Date of Birth: </span
          ><span>{joodb field|date_of_birth}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Country: </span
          ><span>{joodb field|country}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Nationality: </span
          ><span>{joodb field|nationality}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Badge: </span
          ><span>{joodb field|badge}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Institution: </span
          ><span>{joodb field|institution}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Position: </span
          ><span>{joodb field|position}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Phone: </span
          ><span>{joodb field|phone}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Email: </span
          ><span>{joodb field|email}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> ID Type: </span
          ><span>{joodb field|id_type}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Passport Type: </span
          ><span>{joodb field|passport_type}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Passport Number: </span
          ><span>{joodb field|passport_number}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Passport Expiry: </span
          ><span>{joodb field|passport_expiry}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Passport Issuance: </span
          ><span>{joodb field|passport_issuance}</span>
        </li>
        <li>
          <span style="font-weight: bold">KTP Number: </span
          ><span>{joodb field|ktp_number}</span>
        </li>
        <li>
          <span style="font-weight: bold">Arrival Date: </span
          ><span>{joodb field|arrival_date}</span>
        </li>
        <li>
          <span style="font-weight: bold">Arrival Flight Number: </span
          ><span>{joodb field|arrival_flight_number}</span>
        </li>
        <li>
          <span style="font-weight: bold">Departure Date: </span
          ><span>{joodb field|departure_date}</span>
        </li>
        <li>
          <span style="font-weight: bold">Departure Flight Number: </span
          ><span>{joodb field|departure_flight_number}</span>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Photo: </span>
          <a
            href="https://iaf.kemlu.go.id/abc_files/general/photo/{joodb field|photo}"
            target="_blank"
          >
            <span>View</span> <i class="fas fa-external-link-alt"></i>
          </a>
        </li>
        <li>
          <span style="color: red">*</span
          ><span style="font-weight: bold"> Passport File: </span>
          <a
            href="https://iaf.kemlu.go.id/abc_files/general/passport/{joodb field|passport_file}"
            target="_blank"
          >
            <span>View</span> <i class="fas fa-external-link-alt"></i>
          </a>
        </li>
        <li>
          <span style="font-weight: bold">Other Document 1: </span>
          <a
            href="https://iaf.kemlu.go.id/abc_files/general/other1/{joodb field|other_document1}"
            target="_blank"
          >
            <span>View</span> <i class="fas fa-external-link-alt"></i>
          </a>
        </li>
        <li>
          <span style="font-weight: bold">Other Document 2: </span>
          <a
            href="https://iaf.kemlu.go.id/abc_files/general/other2/{joodb field|other_document2}"
            target="_blank"
          >
            <span>View</span> <i class="fas fa-external-link-alt"></i>
          </a>
        </li>
        <li>
          <span style="font-weight: bold">Other Document 3: </span>
          <a
            href="https://iaf.kemlu.go.id/abc_files/general/other3/{joodb field|other_document3}"
            target="_blank"
          >
            <span>View</span> <i class="fas fa-external-link-alt"></i>
          </a>
        </li>
        <li>
          <span style="font-weight: bold">Status: </span
          ><span>{joodb field|status}</span>
        </li>
        {joodb ifis|status|pending}
        <li>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="confirm-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-clock-o" style="color: orange"></i> Confirm
          </button>
          <button
            class="reject-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-ban" style="color: red"></i> Reject
          </button>
        </li>
        {joodb endif} {joodb ifis|status|rescinded}
        <li>
          <p style="color: red"><i class="fa fa-times-circle"></i> Rescinded</p>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="confirm-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-check" style="color: green"></i> Confirm
          </button>
          <button
            class="reject-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-ban" style="color: red"></i> Reject
          </button>
        </li>
        {joodb endif} {joodb ifis|status|waiting list}
        <li class="py-3">
          <p style="color: blue">
            <i class="fa fa-hourglass-half"></i> Waiting List
          </p>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="confirm-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-check" style="color: green"></i>
            Re-Confirm<br /><span
              >IMPORTANT: You may need to rescind the registration of other
              approved participant(s) first.</span
            >
          </button>
        </li>
        <li>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="rescind-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-times" style="color: red"></i> Rescind Confirmation
          </button>
        </li>
        {joodb endif} {joodb ifis|status|rejected}
        <li>
          <p style="color: grey"><i class="fa fa-ban"></i> Rejected</p>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="rescind-reject-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-times" style="color: green"></i> Rescind Rejection
          </button>
        </li>
        {joodb endif} {joodb ifis|status|approved}
        <li>
          <p style="color: green">
            <i class="fa fa-check-circle"></i> Approved
          </p>
          <input
            type="text"
            class="reason-input"
            placeholder="Enter reason (optional)"
          />
          <button
            class="rescind-button"
            data-id="{joodb field|id}"
            data-email="{joodb field|email}"
            data-first_name="{joodb field|first_name|strip}"
            data-last_name="{joodb field|last_name|strip}"
          >
            <i class="fa fa-times" style="color: red"></i> Rescind Confirmation
          </button>
        </li>
        {joodb endif}
      </ul>
      <!--
      <div class="readon">{joodb readon}</div>
      -->
    </div>
  </div>
  {joodb loop}
</div>

<!-- No Data Message -->
<h3>{joodb nodata}</h3>

<!-- Pagination -->
<div class="pagination">
  <p>{joodb pagecount}</p>
  {joodb pagenav}
</div>
